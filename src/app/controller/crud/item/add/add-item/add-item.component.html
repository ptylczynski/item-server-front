<div class="container mt-4">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-row justify-content-between">
      <div class="col-4">
        <div class="form-group">
          <label for="name" class="font-weight-bold">Name</label>
          <input placeholder="name" id="name" type="text" class="custom-control" formControlName="name" required>
          <small class="text-muted">The display name of item</small>
          <br>
          <small *ngIf="form.controls.name.valid" class="text-success">Is good</small>
          <small *ngIf="!form.controls.name.valid" class="text-danger">Missing value</small>
        </div>
      </div>
      <div class="d-flex col-4 align-items-center justify-content-end">
        <div class="d-flex text-muted">Date added: {{now | date}}</div>
      </div>
    </div>


    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="description" class="font-weight-bold">Description</label>
          <textarea class="form-control" id="description" formControlName="description" required></textarea>
          <small class="text-muted">Short description of item</small>
          <br>
          <small *ngIf="form.controls.description.valid" class="text-success">Is good</small>
          <small *ngIf="!form.controls.description.valid" class="text-danger">Missing value</small>
        </div>
      </div>
    </div>


    <div class="form-row">
      <div class="col-4">
        <div class="form-group">
          <label for="dueDate" class="font-weight-bold">Due date</label>
          <input type="date" id="dueDate" class="form-control" formControlName="due" required>
          <small class="text-muted">2 days before due date email will be send</small>
          <br>
          <small *ngIf="form.controls.due.valid" class="text-success">Is good</small>
          <small *ngIf="!form.controls.due.valid" class="text-danger">Missing value</small>
        </div>
      </div>
      <div class="col-8">
        <div class="form-group">
          <label for="storage" class="font-weight-bold">Storage</label>
          <select id="storage" class="custom-select" formControlName="address" required>
            <option *ngFor="let address of addresses" [value]="address.id">
              {{getAddressAsString(address)}}
            </option>
          </select>
          <br>
          <small *ngIf="form.controls.address.valid" class="text-success">Is good</small>
          <small *ngIf="!form.controls.address.valid" class="text-danger">Missing value</small>
        </div>
      </div>
    </div>


    <div class="form-row">
      <div class="col-6">
        <div class="form-group">
          <label for="type" class="font-weight-bold">Type</label>
          <select class="custom-select" id="type" formControlName="type" required>
            <option *ngFor="let type of types" [value]="type.id">
              {{getTypeAsString(type)}}
            </option>
          </select>
          <small class="text-muted">Type of food</small>
          <br>
          <small *ngIf="form.controls.type.valid" class="text-success">Is good</small>
          <small *ngIf="!form.controls.type.valid" class="text-danger">Missing value</small>
        </div>
      </div>
    </div>

    <div class="d-flex w-100 justify-content-center">
      <div class="d-flex">
        <button type="submit" [class]="form.valid ? buttonActive : buttonInActive" [disabled]="!form.valid">Submit</button>
      </div>
    </div>


  </form>
  <p>{{form.value | json}}</p>
  <p>{{form.valid}}</p>
  <p>{{submissions}}</p>
  <p>{{addresses | json}}</p>
  <p>{{types | json}}</p>
</div>
